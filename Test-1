//META{"name":"UserBadges","description":"Displays all available Discord badges on your profile","author":"RejectModders","version":"1.0.0","source":"https://github.com/RejectModders/Discord-Badges-Plugin"}*//
// ==UserScript==
// @name         Discord Badges Plugin
// @description  Adds custom badges to your Discord profile using Better Discord
// @version      1
// @author       Your Name
// @match        https://discord.com/*
// @grant        none
// ==/UserScript==

(function() {
    'use strict';

    const badges = {
        "Early Supporter": "https://github.com/Debuggingss/discord-badges/raw/main/pngs_named/early_supporter.png",
        "Bug Hunter": "https://github.com/Debuggingss/discord-badges/raw/main/pngs_named/bug_hunter.png",
        "Nitro Booster": "https://github.com/Debuggingss/discord-badges/raw/main/pngs_named/nitro_booster.png",
        "Verified Bot Developer": "https://github.com/Debuggingss/discord-badges/raw/main/pngs_named/verified_bot_developer.png"
    };
    
    const updateBadges = () => {
        const userPopout = document.querySelector('[class^="userPopout"]');
        if (!userPopout) {
            return;
        }
        
        const usernameTag = userPopout.querySelector('[class^="nameTag"]');
        const username = usernameTag.textContent;
        const userBadgesContainer = userPopout.querySelector('[class^="userBadges"]');
        
        // Remove existing badges
        while (userBadgesContainer.firstChild) {
            userBadgesContainer.removeChild(userBadgesContainer.firstChild);
        }
        
        // Add new badges
        for (const badgeName in badges) {
            if (badges.hasOwnProperty(badgeName)) {
                const badgeImageURL = badges[badgeName];
                const badge = document.createElement('div');
                badge.style.display = 'inline-block';
                badge.style.marginLeft = '5px';
                badge.style.marginRight = '5px';
                badge.innerHTML = `
                    <div class="badge ${badgeName.replace(/ /g, '-').toLowerCase()}" style="background-image: url(${badgeImageURL});"></div>
                    <div class="tooltip tooltip-top">${badgeName}</div>
                `;
                userBadgesContainer.appendChild(badge);
            }
        }
    };
    
    // Update badges when user popout opens
    document.addEventListener('click', () => {
        setTimeout(updateBadges, 500);
    });
})();
